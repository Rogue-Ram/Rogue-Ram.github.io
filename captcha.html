<html>
  <head>
    <title>reCaptcha validation demo</title>
     <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
  </head>
  <body>
<div class="form_container">
  <form action="#" id="my_captcha_form">
    <div class="g-recaptcha" 
data-sitekey="6LdY_vIbAAAAAGwdcDYQ1sHoqaivIFC3N2vQcgBL" 
></div>
    <div id='html_element'></div>
    <p>
   <!-- <button type="verify" >Submit</button> -->
      <script>
        const queryString = window.location.search;

const urlParams = new URLSearchParams(queryString);

const link = urlParams.get('link')
const redirect = urlParams.get('redirect')
window.history.pushState({}, document.title, "/" + "https://rogueram.xyz/captcha");
//console.log(link);
        var onloadCallback = function() {
    grecaptcha.render('html_element', {
      'sitekey' : '6LdY_vIbAAAAAGwdcDYQ1sHoqaivIFC3N2vQcgBL',
      'callback' : correctCaptcha
    });
  };
        var correctCaptcha = function(response) {
   // alert(response);
          if (response.length == 0) {
          
          return false;
        }
          //recaptcha passed validation
        else {
          window.location.href = link;
          window.location.href = redirect;
          return true;
        }
};
      </script>
    </p>
  </form>
</div>
</body>
</html>
